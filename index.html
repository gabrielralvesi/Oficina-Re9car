Fechado — vou mandar o código completo aqui (template SaaS premium em 1 arquivo).
Copie tudo e salve como index.html.

<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Sistema Premium • Template SaaS</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{
      --bg:#F7F9FC; --card:rgba(255,255,255,.92); --border:rgba(17,24,39,.12);
      --text:rgba(17,24,39,.92); --muted:rgba(17,24,39,.62);
      --primary:#2C7A5A; --accent:#E8C66A; --danger:#E74C3C; --warning:#F39C12; --info:#3498DB; --success:#2ECC71;
      --shadow:0 10px 30px rgba(17,24,39,.10); --shadow2:0 6px 20px rgba(17,24,39,.08);
      --r:16px; --r2:12px; --font:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial;
      --side:280px;
      --ring:0 0 0 4px rgba(44,122,90,.20);
    }
    html[data-theme="dark"]{
      --bg:#0B1220; --card:rgba(255,255,255,.10); --border:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92); --muted:rgba(255,255,255,.64);
      --shadow:0 10px 30px rgba(0,0,0,.35); --shadow2:0 6px 20px rgba(0,0,0,.25);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--font); color:var(--text); background:
      radial-gradient(1200px 800px at 10% 0%, rgba(44,122,90,0.18), transparent 55%),
      radial-gradient(900px 700px at 100% 10%, rgba(232,198,106,0.16), transparent 55%),
      var(--bg);
      min-height:100vh;
    }
    .app{display:grid; grid-template-columns:var(--side) 1fr; min-height:100vh}
    .sidebar{
      position:sticky; top:0; height:100vh; padding:16px 12px;
      border-right:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px);
      overflow:auto;
    }
    .brand{
      display:flex; gap:12px; align-items:center;
      padding:12px; border-radius:var(--r);
      background:linear-gradient(135deg, rgba(44,122,90,.18), rgba(232,198,106,.10));
      border:1px solid var(--border); box-shadow:var(--shadow2);
    }
    .logo{
      width:44px; height:44px; border-radius:14px;
      background:linear-gradient(135deg, var(--primary), var(--accent));
      display:grid; place-items:center;
    }
    .logo i{color:#fff; font-size:18px}
    .brand .t .h{font-weight:900; letter-spacing:-.02em}
    .brand .t .p{font-size:12px; color:var(--muted); margin-top:2px}
    .nav{display:flex; flex-direction:column; gap:6px; margin-top:12px}
    .item{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:12px; border-radius:14px; cursor:pointer;
      color:var(--muted); border:1px solid transparent;
      user-select:none; transition:.15s ease;
    }
    .item:hover{background:rgba(44,122,90,.06); color:var(--text)}
    .item.active{background:linear-gradient(135deg, rgba(44,122,90,.18), rgba(232,198,106,.10));
      border-color:rgba(44,122,90,.25); color:var(--text); box-shadow:var(--shadow2);}
    .item .l{display:flex; align-items:center; gap:10px; min-width:0}
    .item .l i{width:20px; text-align:center; color:var(--primary)}
    .badge{font-size:11px; font-weight:900; padding:4px 9px; border-radius:999px; border:1px solid var(--border); background:var(--card)}
    .main{padding:16px}
    .topbar{
      display:flex; justify-content:space-between; align-items:center; gap:12px;
      padding:14px 14px; border-radius:var(--r);
      background:var(--card); border:1px solid var(--border); box-shadow:var(--shadow);
      position:sticky; top:10px; z-index:5; backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
    }
    .hamb{display:none; width:42px; height:42px; border-radius:14px; border:1px solid var(--border); background:rgba(0,0,0,.03); cursor:pointer; box-shadow:var(--shadow2)}
    html[data-theme="dark"] .hamb{background:rgba(255,255,255,.06)}
    .title .h{font-weight:900; letter-spacing:-.02em}
    .title .p{font-size:12px; color:var(--muted); margin-top:2px}
    .right{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .btn{
      border:1px solid var(--border); background:rgba(0,0,0,.03);
      padding:10px 12px; border-radius:14px; cursor:pointer; font-weight:800; font-size:13px;
      box-shadow:var(--shadow2); transition:.15s ease;
      color:var(--text);
    }
    html[data-theme="dark"] .btn{background:rgba(255,255,255,.06)}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(135deg, var(--primary), rgba(44,122,90,.78)); border-color:rgba(44,122,90,.35); color:#fff}
    .btn.danger{background:rgba(231,76,60,.14); border-color:rgba(231,76,60,.30); color:rgba(231,76,60,.95)}
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:14px; margin-top:14px}
    .panel{
      grid-column:span 12;
      border-radius:var(--r); background:var(--card); border:1px solid var(--border);
      box-shadow:var(--shadow); padding:14px;
    }
    .cards{display:grid; grid-template-columns:repeat(12,1fr); gap:14px}
    .kpi{
      grid-column:span 3;
      border-radius:var(--r); background:var(--card); border:1px solid var(--border);
      box-shadow:var(--shadow); padding:14px; position:relative; overflow:hidden;
      min-height:92px;
    }
    .kpi .k{font-size:12px; color:var(--muted); font-weight:800}
    .kpi .v{font-size:22px; font-weight:1000; letter-spacing:-.03em; margin-top:6px}
    .kpi .i{position:absolute; right:12px; bottom:12px; font-size:34px; color:rgba(44,122,90,.18)}
    .head{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px}
    .head .t{font-weight:1000; letter-spacing:-.02em}
    .head .h{font-size:12px; color:var(--muted); margin-top:2px}
    .table-wrap{overflow:auto; border:1px solid var(--border); border-radius:14px}
    table{width:100%; border-collapse:collapse; min-width:780px}
    th{padding:12px; font-size:12px; text-transform:uppercase; letter-spacing:.02em; color:var(--muted); text-align:left; background:rgba(0,0,0,.03); position:sticky; top:0}
    html[data-theme="dark"] th{background:rgba(255,255,255,.06)}
    td{padding:12px; border-top:1px solid var(--border); font-size:13px}
    tr:hover td{background:rgba(44,122,90,.06)}
    .form{display:grid; grid-template-columns:repeat(12,1fr); gap:12px}
    .field{grid-column:span 3; display:flex; flex-direction:column; gap:6px}
    .span6{grid-column:span 6} .span12{grid-column:span 12}
    label{font-size:12px; color:var(--muted); font-weight:900}
    input,select,textarea{
      padding:11px 12px; border-radius:14px; border:1px solid var(--border);
      background:rgba(0,0,0,.03); color:var(--text); outline:none;
    }
    html[data-theme="dark"] input, html[data-theme="dark"] select, html[data-theme="dark"] textarea{background:rgba(255,255,255,.06)}
    input:focus,select:focus,textarea:focus{box-shadow:var(--ring); border-color:rgba(44,122,90,.35)}
    textarea{min-height:90px; resize:vertical}
    .row-actions{display:flex; gap:8px; flex-wrap:wrap}
    .icon-btn{
      width:38px; height:38px; border-radius:14px; border:1px solid var(--border);
      background:rgba(0,0,0,.03); cursor:pointer; box-shadow:var(--shadow2);
      display:grid; place-items:center;
    }
    html[data-theme="dark"] .icon-btn{background:rgba(255,255,255,.06)}
    .icon-btn i{font-size:14px; color:var(--text)}
    .icon-btn.danger i{color:rgba(231,76,60,.95)}
    .icon-btn.info i{color:rgba(52,152,219,.95)}
    .icon-btn.success i{color:rgba(46,204,113,.95)}
    /* login */
    .login{min-height:100vh; display:grid; place-items:center; padding:22px}
    .login .box{width:min(480px,100%); border-radius:22px; background:var(--card); border:1px solid var(--border); box-shadow:var(--shadow); overflow:hidden}
    .login .hb{padding:16px; display:flex; gap:12px; align-items:center; border-bottom:1px solid var(--border);
      background:linear-gradient(135deg, rgba(44,122,90,.18), rgba(232,198,106,.10));}
    .login .hb .lg{width:48px; height:48px; border-radius:16px; background:linear-gradient(135deg, var(--primary), var(--accent)); display:grid; place-items:center}
    .login .hb .lg i{color:#fff}
    .login .bd{padding:16px}
    .tabs{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:12px}
    .tab{padding:10px 12px; text-align:center; border-radius:14px; border:1px solid var(--border); background:rgba(0,0,0,.03); cursor:pointer; font-weight:1000; color:var(--muted)}
    html[data-theme="dark"] .tab{background:rgba(255,255,255,.06)}
    .tab.active{background:linear-gradient(135deg, rgba(44,122,90,.18), rgba(232,198,106,.10)); color:var(--text)}
    .toasts{position:fixed; right:14px; top:14px; z-index:50; display:flex; flex-direction:column; gap:10px}
    .toast{width:min(360px, calc(100vw - 28px)); border-radius:16px; border:1px solid var(--border); background:var(--card); box-shadow:var(--shadow); padding:12px; display:flex; gap:10px; animation:in .2s ease}
    @keyframes in{from{transform:translateY(-6px); opacity:0} to{transform:translateY(0); opacity:1}}
    .toast .ic{width:36px; height:36px; border-radius:14px; display:grid; place-items:center; border:1px solid var(--border); background:rgba(0,0,0,.03)}
    html[data-theme="dark"] .toast .ic{background:rgba(255,255,255,.06)}
    .toast .tx .h{font-weight:1000; font-size:13px}
    .toast .tx .p{font-size:12px; color:var(--muted); margin-top:2px; line-height:1.35}
    @media (max-width: 780px){
      .app{grid-template-columns:1fr}
      .sidebar{position:fixed; left:0; top:0; width:min(86vw,var(--side)); transform:translateX(-110%); transition:.2s ease; z-index:40}
      .sidebar.open{transform:translateX(0)}
      .hamb{display:grid; place-items:center}
      .kpi{grid-column:span 12}
      .field{grid-column:span 12}
      .span6{grid-column:span 12}
      table{min-width:680px}
    }
  </style>
</head>
<body>
  <div class="toasts" id="toasts"></div>

  <!-- LOGIN -->
  <section class="login" id="loginView" style="display:none;">
    <div class="box">
      <div class="hb">
        <div class="lg"><i class="fa-solid fa-layer-group"></i></div>
        <div>
          <div style="font-weight:1000; letter-spacing:-.02em" id="loginBrand">Sistema Premium</div>
          <div style="font-size:12px; color:var(--muted); margin-top:2px;">Template SaaS • dados locais • pronto p/ nuvem</div>
        </div>
        <div style="margin-left:auto; display:flex; gap:10px;">
          <button class="icon-btn" title="Tema" onclick="UI.toggleTheme()"><i class="fa-solid fa-moon"></i></button>
        </div>
      </div>

      <div class="bd">
        <div class="tabs">
          <div class="tab active" id="tabLogin" onclick="Auth.tab('login')">Entrar</div>
          <div class="tab" id="tabReg" onclick="Auth.tab('reg')">Criar conta</div>
        </div>

        <div id="loginForm">
          <div class="form">
            <div class="field span12">
              <label>Email</label>
              <input id="lEmail" type="email" placeholder="seu@email.com" />
            </div>
            <div class="field span12">
              <label>Senha</label>
              <input id="lPass" type="password" placeholder="••••••••" />
            </div>
          </div>
          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn primary" style="flex:1" onclick="Auth.login()"><i class="fa-solid fa-right-to-bracket"></i> Entrar</button>
            <button class="btn" onclick="UI.toast('No modo local, qualquer senha funciona. Depois ligamos Supabase.', 'info')"><i class="fa-regular fa-circle-question"></i></button>
          </div>
        </div>

        <div id="regForm" style="display:none;">
          <div class="form">
            <div class="field span12">
              <label>Nome do sistema</label>
              <input id="rSys" placeholder="Ex: Gestão Escolar / Oficina / Loja" />
            </div>
            <div class="field span12">
              <label>Empresa</label>
              <input id="rCompany" placeholder="Nome da empresa" />
            </div>
            <div class="field span12">
              <label>Email</label>
              <input id="rEmail" type="email" placeholder="contato@empresa.com" />
            </div>
            <div class="field span12">
              <label>Senha</label>
              <input id="rPass" type="password" placeholder="••••••••" />
            </div>
          </div>
          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn primary" style="flex:1" onclick="Auth.register()"><i class="fa-solid fa-user-plus"></i> Criar</button>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- APP -->
  <div class="app" id="appView" style="display:none;">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo"><i class="fa-solid fa-layer-group"></i></div>
        <div class="t">
          <div class="h" id="brandName">Sistema Premium</div>
          <div class="p" id="brandSub">Painel administrativo • SaaS Ready</div>
        </div>
      </div>

      <div class="nav" id="nav">
        <div class="item active" data-route="dashboard" onclick="Router.go('dashboard')">
          <div class="l"><i class="fa-solid fa-chart-simple"></i><span>Dashboard</span></div>
          <span class="badge" id="bToday">Hoje</span>
        </div>
        <div class="item" data-route="cadastro" onclick="Router.go('cadastro')">
          <div class="l"><i class="fa-solid fa-database"></i><span>Cadastro</span></div>
          <span class="badge" id="bCad">0</span>
        </div>
        <div class="item" data-route="tarefas" onclick="Router.go('tarefas')">
          <div class="l"><i class="fa-solid fa-list-check"></i><span>Tarefas</span></div>
          <span class="badge" id="bTar">0</span>
        </div>
        <div class="item" data-route="financeiro" onclick="Router.go('financeiro')">
          <div class="l"><i class="fa-solid fa-wallet"></i><span>Financeiro</span></div>
          <span class="badge" id="bFin">0</span>
        </div>
        <div class="item" data-route="relatorios" onclick="Router.go('relatorios')">
          <div class="l"><i class="fa-solid fa-file-lines"></i><span>Relatórios</span></div>
          <span class="badge">PDF</span>
        </div>
        <div class="item" data-route="config" onclick="Router.go('config')">
          <div class="l"><i class="fa-solid fa-gear"></i><span>Configurações</span></div>
          <span class="badge">⚙️</span>
        </div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div style="display:flex; align-items:center; gap:10px;">
          <button class="hamb" onclick="UI.toggleSidebar()"><i class="fa-solid fa-bars"></i></button>
          <div class="title">
            <div class="h" id="pageTitle">Dashboard</div>
            <div class="p" id="pageSub">Visão geral do sistema</div>
          </div>
        </div>

        <div class="right">
          <div class="badge" id="userEmail">—</div>
          <button class="btn" onclick="UI.toggleTheme()" title="Tema"><i class="fa-solid fa-circle-half-stroke"></i></button>
          <button class="btn" onclick="IO.export()" title="Exportar"><i class="fa-solid fa-cloud-arrow-down"></i></button>
          <button class="btn" onclick="IO.import()" title="Importar"><i class="fa-solid fa-cloud-arrow-up"></i></button>
          <button class="btn danger" onclick="Auth.logout()" title="Sair"><i class="fa-solid fa-right-from-bracket"></i></button>
        </div>
      </header>

      <section class="grid" id="content"></section>
    </main>
  </div>

<script>
const Utils = {
  uid: () => Date.now() + Math.floor(Math.random()*1000),
  iso: () => new Date().toISOString().split('T')[0],
  money: (n=0) => (Number(n)||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'}),
  norm: (s='') => s.toString().toLowerCase().normalize("NFD").replace(/[\\u0300-\\u036f]/g,"")
};

const Store = {
  sessionKey:"tpl_session",
  dataKey:(email)=>`tpl_data_${email}`,
  themeKey:"tpl_theme",
  setTheme:(t)=>localStorage.setItem(Store.themeKey,t),
  getTheme:()=>localStorage.getItem(Store.themeKey)||"light",
  saveSession:(s)=>localStorage.setItem(Store.sessionKey, JSON.stringify(s)),
  loadSession:()=>{ try{return JSON.parse(localStorage.getItem(Store.sessionKey))}catch{return null} },
  clearSession:()=>localStorage.removeItem(Store.sessionKey),
  saveData:(email,payload)=>localStorage.setItem(Store.dataKey(email), JSON.stringify(payload)),
  loadData:(email)=>{ try{return JSON.parse(localStorage.getItem(Store.dataKey(email)))}catch{return null} }
};

const App = {
  user:null,
  systemName:"Sistema Premium",
  company:"Empresa",
  data:{ cadastro:[], tarefas:[], financeiro:[] }
};

const UI = {
  toast(msg,type="info"){
    const icons={success:"fa-circle-check",warning:"fa-triangle-exclamation",error:"fa-circle-xmark",info:"fa-circle-info"};
    const t=document.createElement("div");
    t.className="toast";
    t.innerHTML=`<div class="ic"><i class="fa-solid ${icons[type]||icons.info}"></i></div>
                 <div class="tx"><div class="h">${type==="success"?"Ok":type==="warning"?"Atenção":type==="error"?"Erro":"Info"}</div>
                 <div class="p">${msg}</div></div>`;
    document.getElementById("toasts").appendChild(t);
    setTimeout(()=>t.remove(),3000);
  },
  setTitle(h,p){ document.getElementById("pageTitle").textContent=h; document.getElementById("pageSub").textContent=p; },
  toggleTheme(){
    const html=document.documentElement;
    const next=html.getAttribute("data-theme")==="light"?"dark":"light";
    html.setAttribute("data-theme",next);
    Store.setTheme(next);
    UI.toast("Tema alterado.", "info");
  },
  toggleSidebar(){ document.getElementById("sidebar").classList.toggle("open"); },
  closeSidebarMobile(){
    if (window.matchMedia("(max-width: 780px)").matches){
      document.getElementById("sidebar").classList.remove("open");
    }
  },
  badges(){
    document.getElementById("bCad").textContent=App.data.cadastro.length;
    document.getElementById("bTar").textContent=App.data.tarefas.length;
    document.getElementById("bFin").textContent=App.data.financeiro.length;
  }
};

const Auth = {
  tab(which){
    const isLogin = which==="login";
    document.getElementById("tabLogin").classList.toggle("active",isLogin);
    document.getElementById("tabReg").classList.toggle("active",!isLogin);
    document.getElementById("loginForm").style.display=isLogin?"block":"none";
    document.getElementById("regForm").style.display=isLogin?"none":"block";
  },
  login(){
    const email=document.getElementById("lEmail").value.trim();
    const pass=document.getElementById("lPass").value.trim();
    if(!email||!pass) return UI.toast("Preencha email e senha.","warning");
    App.user={email};
    const saved=Store.loadData(email);
    if(saved){
      App.systemName=saved.systemName||App.systemName;
      App.company=saved.company||App.company;
      App.data=saved.data||App.data;
    }else{
      App.data=Seed.sample();
    }
    Store.saveSession({email});
    Persist.save();
    Views.showApp();
    Router.go("dashboard");
    UI.toast("Bem-vindo!", "success");
  },
  register(){
    const systemName=document.getElementById("rSys").value.trim();
    const company=document.getElementById("rCompany").value.trim();
    const email=document.getElementById("rEmail").value.trim();
    const pass=document.getElementById("rPass").value.trim();
    if(!systemName||!company||!email||!pass) return UI.toast("Preencha tudo.","warning");
    App.user={email};
    App.systemName=systemName;
    App.company=company;
    App.data=Seed.sample();
    Store.saveSession({email});
    Persist.save();
    Views.showApp();
    Router.go("dashboard");
    UI.toast("Conta criada.", "success");
  },
  logout(){
    if(!confirm("Sair do sistema?")) return;
    Store.clearSession();
    App.user=null;
    Views.showLogin();
  }
};

const Persist = {
  save(){
    if(!App.user?.email) return;
    Store.saveData(App.user.email, {systemName:App.systemName, company:App.company, data:App.data});
    UI.badges();
    document.getElementById("brandName").textContent=App.systemName;
    document.getElementById("loginBrand").textContent=App.systemName;
    document.getElementById("brandSub").textContent=App.company + " • Painel administrativo";
    document.getElementById("userEmail").textContent=App.user.email;
  }
};

const IO = {
  export(){
    if(!App.user) return;
    const blob=new Blob([JSON.stringify({meta:{at:new Date().toISOString(), user:App.user.email}, systemName:App.systemName, company:App.company, data:App.data},null,2)],{type:"application/json"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download=`backup_${App.user.email.replace(/[^a-z0-9]/gi,'_')}_${Utils.iso()}.json`;
    a.click();
    URL.revokeObjectURL(a.href);
    UI.toast("Backup exportado.","success");
  },
  import(){
    if(!App.user) return;
    const inp=document.createElement("input");
    inp.type="file"; inp.accept="application/json";
    inp.onchange=()=>{
      const f=inp.files?.[0]; if(!f) return;
      const r=new FileReader();
      r.onload=()=>{
        try{
          const obj=JSON.parse(r.result);
          App.systemName=obj.systemName||App.systemName;
          App.company=obj.company||App.company;
          App.data=obj.data||App.data;
          Persist.save();
          Router.refresh();
          UI.toast("Importado com sucesso.","success");
        }catch{ UI.toast("JSON inválido.","error"); }
      };
      r.readAsText(f);
    };
    inp.click();
  }
};

const Seed = {
  sample(){
    return {
      cadastro:[{id:Utils.uid(), nome:"Item exemplo", categoria:"Padrão", status:"Ativo", criadoEm:Utils.iso(), obs:"—"}],
      tarefas:[{id:Utils.uid(), titulo:"Configurar sistema", prioridade:"Alta", status:"Aberta", data:Utils.iso(), obs:"—"}],
      financeiro:[{id:Utils.uid(), tipo:"entrada", descricao:"Plano inicial", valor:197, data:Utils.iso(), obs:"—"}]
    };
  }
};

const Router = {
  current:"dashboard",
  go(route){
    this.current=route;
    document.querySelectorAll(".item").forEach(i=>i.classList.toggle("active", i.dataset.route===route));
    UI.closeSidebarMobile();
    Views.render(route);
  },
  refresh(){ Views.render(this.current); }
};

const Views = {
  showLogin(){ document.getElementById("loginView").style.display="grid"; document.getElementById("appView").style.display="none"; },
  showApp(){ document.getElementById("loginView").style.display="none"; document.getElementById("appView").style.display="grid"; Persist.save(); },
  render(route){
    Persist.save();
    const c=document.getElementById("content");
    if(route==="dashboard") c.innerHTML = Modules.Dashboard();
    else if(route==="cadastro") c.innerHTML = Modules.Cadastro();
    else if(route==="tarefas") c.innerHTML = Modules.Tarefas();
    else if(route==="financeiro") c.innerHTML = Modules.Financeiro();
    else if(route==="relatorios") c.innerHTML = Modules.Relatorios();
    else if(route==="config") c.innerHTML = Modules.Config();
    else c.innerHTML = `<div class="panel">Em construção</div>`;
  }
};

const Modules = {
  Dashboard(){
    UI.setTitle("Dashboard","Indicadores e visão geral");
    const entradas = App.data.financeiro.filter(x=>x.tipo==="entrada").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saidas = App.data.financeiro.filter(x=>x.tipo==="saida").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saldo = entradas - saidas;
    return `
      <div class="cards">
        <div class="kpi"><div class="k">Cadastro</div><div class="v">${App.data.cadastro.length}</div><div class="i"><i class="fa-solid fa-database"></i></div></div>
        <div class="kpi"><div class="k">Tarefas</div><div class="v">${App.data.tarefas.length}</div><div class="i"><i class="fa-solid fa-list-check"></i></div></div>
        <div class="kpi"><div class="k">Entradas</div><div class="v">${Utils.money(entradas)}</div><div class="i"><i class="fa-solid fa-arrow-trend-up"></i></div></div>
        <div class="kpi"><div class="k">Saldo</div><div class="v">${Utils.money(saldo)}</div><div class="i"><i class="fa-solid fa-wallet"></i></div></div>
      </div>

      <div class="panel">
        <div class="head">
          <div><div class="t">Atalhos rápidos</div><div class="h">Ações principais do seu sistema</div></div>
          <div class="row-actions">
            <button class="btn primary" onclick="Router.go('cadastro')"><i class="fa-solid fa-plus"></i> Novo Cadastro</button>
            <button class="btn primary" onclick="Router.go('tarefas')"><i class="fa-solid fa-calendar-plus"></i> Nova Tarefa</button>
            <button class="btn primary" onclick="Router.go('financeiro')"><i class="fa-solid fa-money-bill-transfer"></i> Lançar</button>
          </div>
        </div>
        <div style="color:var(--muted); font-size:13px; line-height:1.6;">
          Template premium para <strong>qualquer área</strong> (escola, oficina, loja, condomínio, igreja, etc.).  
          Personalize nome e empresa em <strong>Configurações</strong>.
        </div>
      </div>
    `;
  },

  Cadastro(){
    UI.setTitle("Cadastro","CRUD genérico (itens, pessoas, produtos...)");
    return `
      <div class="panel">
        <div class="head">
          <div><div class="t">Novo registro</div><div class="h">Campos genéricos — personalize depois</div></div>
          <button class="btn primary" onclick="Actions.addCadastro()"><i class="fa-solid fa-floppy-disk"></i> Salvar</button>
        </div>
        <div class="form">
          <div class="field span6"><label>Nome</label><input id="cadNome" placeholder="Ex: João / Produto X / Aluno Y"></div>
          <div class="field span3"><label>Categoria</label><input id="cadCat" placeholder="Ex: Padrão"></div>
          <div class="field span3"><label>Status</label>
            <select id="cadStatus"><option>Ativo</option><option>Inativo</option><option>Pendente</option></select>
          </div>
          <div class="field span12"><label>Observações</label><textarea id="cadObs" placeholder="Detalhes..."></textarea></div>
        </div>
      </div>

      <div class="panel">
        <div class="head">
          <div><div class="t">Registros</div><div class="h">Editar / excluir</div></div>
          <input id="cadSearch" placeholder="Buscar..." oninput="Actions.filterCadastro(this.value)" style="min-width:260px;">
        </div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Nome</th><th>Categoria</th><th>Status</th><th>Criado em</th><th>Ações</th></tr></thead>
            <tbody id="cadTable">${Render.cadastroRows(App.data.cadastro)}</tbody>
          </table>
        </div>
      </div>
    `;
  },

  Tarefas(){
    UI.setTitle("Tarefas","Gestão simples (Aberta/Em andamento/Concluída)");
    return `
      <div class="panel">
        <div class="head">
          <div><div class="t">Nova tarefa</div><div class="h">Organize o fluxo</div></div>
          <button class="btn primary" onclick="Actions.addTarefa()"><i class="fa-solid fa-floppy-disk"></i> Salvar</button>
        </div>
        <div class="form">
          <div class="field span6"><label>Título</label><input id="tarTit" placeholder="Ex: Confirmar pagamento / Reunião"></div>
          <div class="field span3"><label>Prioridade</label><select id="tarPri"><option>Baixa</option><option>Média</option><option>Alta</option></select></div>
          <div class="field span3"><label>Status</label><select id="tarSta"><option>Aberta</option><option>Em andamento</option><option>Concluída</option></select></div>
          <div class="field span3"><label>Data</label><input id="tarData" type="date" value="${Utils.iso()}"></div>
          <div class="field span9"><label>Notas</label><input id="tarObs" placeholder="Detalhes / responsáveis..."></div>
        </div>
      </div>

      <div class="panel">
        <div class="head">
          <div><div class="t">Lista</div><div class="h">Filtros por status</div></div>
          <div class="row-actions">
            <button class="btn" onclick="Actions.filterTarefas('')">Todas</button>
            <button class="btn" onclick="Actions.filterTarefas('Aberta')">Abertas</button>
            <button class="btn" onclick="Actions.filterTarefas('Em andamento')">Em andamento</button>
            <button class="btn" onclick="Actions.filterTarefas('Concluída')">Concluídas</button>
          </div>
        </div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Título</th><th>Prioridade</th><th>Status</th><th>Data</th><th>Ações</th></tr></thead>
            <tbody id="tarTable">${Render.tarefaRows(App.data.tarefas)}</tbody>
          </table>
        </div>
      </div>
    `;
  },

  Financeiro(){
    UI.setTitle("Financeiro","Entradas e saídas com saldo");
    const entradas = App.data.financeiro.filter(x=>x.tipo==="entrada").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saidas = App.data.financeiro.filter(x=>x.tipo==="saida").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saldo = entradas - saidas;
    return `
      <div class="cards">
        <div class="kpi"><div class="k">Entradas</div><div class="v">${Utils.money(entradas)}</div><div class="i"><i class="fa-solid fa-arrow-trend-up"></i></div></div>
        <div class="kpi"><div class="k">Saídas</div><div class="v">${Utils.money(saidas)}</div><div class="i"><i class="fa-solid fa-arrow-trend-down"></i></div></div>
        <div class="kpi"><div class="k">Saldo</div><div class="v">${Utils.money(saldo)}</div><div class="i"><i class="fa-solid fa-wallet"></i></div></div>
        <div class="kpi"><div class="k">Lançamentos</div><div class="v">${App.data.financeiro.length}</div><div class="i"><i class="fa-solid fa-receipt"></i></div></div>
      </div>

      <div class="panel">
        <div class="head">
          <div><div class="t">Novo lançamento</div><div class="h">Use descrição clara</div></div>
          <button class="btn primary" onclick="Actions.addFin()"><i class="fa-solid fa-floppy-disk"></i> Salvar</button>
        </div>
        <div class="form">
          <div class="field span3"><label>Tipo</label><select id="finTipo"><option value="entrada">Entrada</option><option value="saida">Saída</option></select></div>
          <div class="field span6"><label>Descrição</label><input id="finDesc" placeholder="Ex: Mensalidade / Compra / Serviço"></div>
          <div class="field span3"><label>Valor</label><input id="finVal" type="number" step="0.01" placeholder="0,00"></div>
          <div class="field span3"><label>Data</label><input id="finData" type="date" value="${Utils.iso()}"></div>
          <div class="field span9"><label>Observações</label><input id="finObs" placeholder="Detalhes..."></div>
        </div>
      </div>

      <div class="panel">
        <div class="head">
          <div><div class="t">Extrato</div><div class="h">Ordenado por data</div></div>
          <input id="finSearch" placeholder="Buscar..." oninput="Actions.filterFin(this.value)" style="min-width:260px;">
        </div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Data</th><th>Tipo</th><th>Descrição</th><th>Valor</th><th>Ações</th></tr></thead>
            <tbody id="finTable">${Render.finRows(App.data.financeiro)}</tbody>
          </table>
        </div>
      </div>
    `;
  },

  Relatorios(){
    UI.setTitle("Relatórios","Exportação rápida (JSON) + resumo");
    const entradas = App.data.financeiro.filter(x=>x.tipo==="entrada").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saidas = App.data.financeiro.filter(x=>x.tipo==="saida").reduce((s,x)=>s+(Number(x.valor)||0),0);
    const saldo = entradas - saidas;
    return `
      <div class="panel">
        <div class="head">
          <div><div class="t">Resumo do sistema</div><div class="h">Indicadores gerais</div></div>
          <div class="row-actions">
            <button class="btn primary" onclick="IO.export()"><i class="fa-solid fa-cloud-arrow-down"></i> Exportar JSON</button>
            <button class="btn" onclick="IO.import()"><i class="fa-solid fa-cloud-arrow-up"></i> Importar JSON</button>
          </div>
        </div>
        <div style="display:grid; grid-template-columns:repeat(12,1fr); gap:12px;">
          <div class="panel" style="grid-column:span 4"><div class="t" style="font-weight:1000">Cadastro</div><div style="color:var(--muted); margin-top:6px;">${App.data.cadastro.length} registros</div></div>
          <div class="panel" style="grid-column:span 4"><div class="t" style="font-weight:1000">Tarefas</div><div style="color:var(--muted); margin-top:6px;">${App.data.tarefas.length} tarefas</div></div>
          <div class="panel" style="grid-column:span 4"><div class="t" style="font-weight:1000">Financeiro</div><div style="color:var(--muted); margin-top:6px;">Saldo: <strong>${Utils.money(saldo)}</strong></div></div>
        </div>
        <div style="margin-top:10px; color:var(--muted); font-size:13px; line-height:1.6;">
          Para gerar PDF, use: <strong>Compartilhar → Imprimir → Salvar como PDF</strong>.
        </div>
      </div>
    `;
  },

  Config(){
    UI.setTitle("Configurações","Personalize nome do sistema e empresa");
    return `
      <div class="panel">
        <div class="head">
          <div><div class="t">Identidade</div><div class="h">Altere e salva</div></div>
          <button class="btn primary" onclick="Actions.saveConfig()"><i class="fa-solid fa-floppy-disk"></i> Salvar</button>
        </div>
        <div class="form">
          <div class="field span6"><label>Nome do sistema</label><input id="cfgSys" value="${App.systemName}"></div>
          <div class="field span6"><label>Empresa</label><input id="cfgCompany" value="${App.company}"></div>
          <div class="field span12">
            <label>Limpar dados (apaga tudo deste usuário)</label>
            <button class="btn danger" onclick="Actions.wipe()"><i class="fa-solid fa-trash"></i> Apagar</button>
          </div>
        </div>
      </div>
    `;
  }
};

const Render = {
  cadastroRows(list){
    const s=list.slice().sort((a,b)=>(b.criadoEm||'').localeCompare(a.criadoEm||''));
    return s.map(x=>`
      <tr>
        <td><strong>${x.nome}</strong></td>
        <td>${x.categoria||"-"}</td>
        <td>${x.status||"-"}</td>
        <td>${x.criadoEm||"-"}</td>
        <td>
          <div class="row-actions">
            <button class="icon-btn info" onclick="Actions.editCadastro(${x.id})" title="Editar"><i class="fa-solid fa-pen"></i></button>
            <button class="icon-btn danger" onclick="Actions.delCadastro(${x.id})" title="Excluir"><i class="fa-solid fa-trash"></i></button>
          </div>
        </td>
      </tr>
    `).join("") || `<tr><td colspan="5">—</td></tr>`;
  },
  tarefaRows(list){
    const s=list.slice().sort((a,b)=>(b.data||'').localeCompare(a.data||''));
    return s.map(x=>`
      <tr>
        <td><strong>${x.titulo}</strong></td>
        <td>${x.prioridade}</td>
        <td>${x.status}</td>
        <td>${x.data}</td>
        <td>
          <div class="row-actions">
            <button class="icon-btn info" onclick="Actions.editTarefa(${x.id})" title="Editar"><i class="fa-solid fa-pen"></i></button>
            <button class="icon-btn danger" onclick="Actions.delTarefa(${x.id})" title="Excluir"><i class="fa-solid fa-trash"></i></button>
          </div>
        </td>
      </tr>
    `).join("") || `<tr><td colspan="5">—</td></tr>`;
  },
  finRows(list){
    const s=list.slice().sort((a,b)=>(b.data||'').localeCompare(a.data||''));
    return s.map(x=>`
      <tr>
        <td>${x.data}</td>
        <td><span class="badge">${x.tipo}</span></td>
        <td><strong>${x.descricao}</strong></td>
        <td>${Utils.money(x.valor)}</td>
        <td>
          <div class="row-actions">
            <button class="icon-btn danger" onclick="Actions.delFin(${x.id})" title="Excluir"><i class="fa-solid fa-trash"></i></button>
          </div>
        </td>
      </tr>
    `).join("") || `<tr><td colspan="5">—</td></tr>`;
  }
};

const Actions = {
  addCadastro(){
    const nome=document.getElementById("cadNome").value.trim();
    const categoria=document.getElementById("cadCat").value.trim();
    const status=document.getElementById("cadStatus").value;
    const obs=document.getElementById("cadObs").value.trim();
    if(!nome) return UI.toast("Digite o nome.","warning");
    App.data.cadastro.push({id:Utils.uid(), nome, categoria, status, obs, criadoEm:Utils.iso()});
    Persist.save(); Router.refresh(); UI.toast("Registro salvo.","success");
  },
  filterCadastro(term){
    term=Utils.norm(term||"");
    const list=App.data.cadastro.filter(x=>Utils.norm(`${x.nome} ${x.categoria||""} ${x.status||""} ${x.obs||""}`).includes(term));
    document.getElementById("cadTable").innerHTML=Render.cadastroRows(list);
  },
  delCadastro(id){
    if(!confirm("Excluir este registro?")) return;
    App.data.cadastro=App.data.cadastro.filter(x=>x.id!==id);
    Persist.save(); Router.refresh(); UI.toast("Excluído.","info");
  },
  editCadastro(id){
    const x=App.data.cadastro.find(a=>a.id===id); if(!x) return;
    const nome=prompt("Nome:", x.nome); if(nome===null) return;
    const categoria=prompt("Categoria:", x.categoria||"") ?? x.categoria;
    const status=prompt("Status:", x.status||"Ativo") ?? x.status;
    x.nome=nome.trim(); x.categoria=(categoria||"").trim(); x.status=(status||"").trim();
    Persist.save(); Router.refresh(); UI.toast("Atualizado.","success");
  },

  addTarefa(){
    const titulo=document.getElementById("tarTit").value.trim();
    const prioridade=document.getElementById("tarPri").value;
    const status=document.getElementById("tarSta").value;
    const data=document.getElementById("tarData").value || Utils.iso();
    const obs=document.getElementById("tarObs").value.trim();
    if(!titulo) return UI.toast("Digite o título.","warning");
    App.data.tarefas.push({id:Utils.uid(), titulo, prioridade, status, data, obs});
    Persist.save(); Router.refresh(); UI.toast("Tarefa salva.","success");
  },
  filterTarefas(status){
    const list = status ? App.data.tarefas.filter(x=>x.status===status) : App.data.tarefas;
    document.getElementById("tarTable").innerHTML=Render.tarefaRows(list);
  },
  delTarefa(id){
    if(!confirm("Excluir esta tarefa?")) return;
    App.data.tarefas=App.data.tarefas.filter(x=>x.id!==id);
    Persist.save(); Router.refresh(); UI.toast("Excluída.","info");
  },
  editTarefa(id){
    const x=App.data.tarefas.find(a=>a.id===id); if(!x) return;
    const titulo=prompt("Título:", x.titulo); if(titulo===null) return;
    const status=prompt("Status (Aberta/Em andamento/Concluída):", x.status) ?? x.status;
    x.titulo=titulo.trim(); x.status=(status||"").trim();
    Persist.save(); Router.refresh(); UI.toast("Atualizada.","success");
  },

  addFin(){
    const tipo=document.getElementById("finTipo").value;
    const descricao=document.getElementById("finDesc").value.trim();
    const valor=Number(document.getElementById("finVal").value||0);
    const data=document.getElementById("finData").value || Utils.iso();
    const obs=document.getElementById("finObs").value.trim();
    if(!descricao || !valor) return UI.toast("Descrição e valor são obrigatórios.","warning");
    App.data.financeiro.push({id:Utils.uid(), tipo, descricao, valor, data, obs});
    Persist.save(); Router.refresh(); UI.toast("Lançamento salvo.","success");
  },
  filterFin(term){
    term=Utils.norm(term||"");
    const list=App.data.financeiro.filter(x=>Utils.norm(`${x.tipo} ${x.descricao} ${x.data} ${x.obs||""}`).includes(term));
    document.getElementById("finTable").innerHTML=Render.finRows(list);
  },
  delFin(id){
    if(!confirm("Excluir lançamento?")) return;
    App.data.financeiro=App.data.financeiro.filter(x=>x.id!==id);
    Persist.save(); Router.refresh(); UI.toast("Excluído.","info");
  },

  saveConfig(){
    const sys=document.getElementById("cfgSys").value.trim();
    const comp=document.getElementById("cfgCompany").value.trim();
    if(!sys||!comp) return UI.toast("Preencha os campos.","warning");
    App.systemName=sys; App.company=comp;
    Persist.save(); Router.refresh(); UI.toast("Configurações salvas.","success");
  },
  wipe(){
    if(!confirm("Apagar TODOS os dados deste usuário?")) return;
    App.data={cadastro:[],tarefas:[],financeiro:[]};
    Persist.save(); Router.go("dashboard"); UI.toast("Dados apagados.","info");
  }
};

function boot(){
  document.documentElement.setAttribute("data-theme", Store.getTheme());
  const sess=Store.loadSession();
  document.getElementById("bToday").textContent=new Date().toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit'});
  if(sess?.email){
    App.user={email:sess.email};
    const saved=Store.loadData(sess.email);
    if(saved){
      App.systemName=saved.systemName||App.systemName;
      App.company=saved.company||App.company;
      App.data=saved.data||App.data;
    }
    Views.showApp();
    Router.go("dashboard");
  }else{
    Views.showLogin();
  }
  UI.badges();
}
boot();
</script>
</body>
</html>
